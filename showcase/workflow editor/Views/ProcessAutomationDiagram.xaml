<UserControl x:Class="syncfusion.workfloweditor.wpf.ProcessAutomationDiagram"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:SyncDiagram="http://schemas.syncfusion.com/wpf"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
       xmlns:local="clr-namespace:syncfusion.workfloweditor.wpf"
      xmlns:localControls="clr-namespace:Syncfusion.UI.Xaml.Diagram.Controls;assembly=Syncfusion.SfDiagram.Wpf"
       xmlns:shared="clr-namespace:Syncfusion.Windows.Tools.Controls;assembly=Syncfusion.Shared.Wpf" 
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:panels="clr-namespace:Syncfusion.UI.Xaml.Diagram.Panels;assembly=Syncfusion.SfDiagram.Wpf"
      mc:Ignorable="d">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/syncfusion.workfloweditor.wpf;component/Template/ProcessNodeEditorTemplate.xaml" />
                <ResourceDictionary Source="/Syncfusion.SfDiagram.Wpf;component/Resources/BindingStyle.xaml" />
            </ResourceDictionary.MergedDictionaries>
        <Color x:Key="AppBarItemPointerOverBackgroundThemeBrush4">#c9c9c9</Color>
        <SyncDiagram:ObjectToTypeConverter x:Key="objectToTypeConverter" />
        <local:VisibilityConverter x:Key="VisibilityConverter" />
        <local:VisibilityConverter1 x:Key="VisibilityConverter1" />

        <Style x:Key="AppBarButtonStyleStart1" TargetType="ButtonBase">
            <Setter Property="Foreground" Value="{StaticResource AppBarItemForegroundThemeBrush}" />
            <Setter Property="VerticalAlignment" Value="Stretch" />
            <Setter Property="FontFamily" Value="Segoe UI Symbol" />
            <Setter Property="FontWeight" Value="Normal" />
            <Setter Property="FontSize" Value="20" />
            <Setter Property="AutomationProperties.ItemType" Value="App Bar Button" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ButtonBase">
                        <Grid x:Name="RootGrid"
                              Width="50"
                              Background="Transparent">
                            <StackPanel Margin="0,5,0,5" VerticalAlignment="Top">
                                <Grid Width="40"
                                      Height="40"
                                      Margin="0,0,0,5"
                                      HorizontalAlignment="Center">
                                    <TextBlock x:Name="BackgroundGlyph"
                                               Margin="-4,-19,0,0"
                                               FontFamily="Segoe UI Symbol"
                                               FontSize="53.333"
                                               Foreground="Transparent"
                                               Text="" />
                                    <TextBlock x:Name="OutlineGlyph"
                                               Margin="-4,-19,0,0"
                                               FontFamily="Segoe UI Symbol"
                                               FontSize="53.333"
                                               Foreground="Transparent"
                                               Text="" />
                                    <local:ContentPresenters x:Name="Content"
                                                      Margin="-3,-1,0,0"
                                                      HorizontalAlignment="Center"
                                                      VerticalAlignment="Center" />
                                </Grid>
                                <TextBlock x:Name="TextLabel"
                                           Width="50"
                                           MaxHeight="32"
                                           Margin="0,-10,2,0"
                                           FontSize="12"
                                           Foreground="#FF616161"
                                           Text="{TemplateBinding AutomationProperties.Name}"
                                           TextAlignment="Center"
                                           TextTrimming="WordEllipsis" />
                            </StackPanel>

                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="ApplicationViewStates">
                                    <VisualState x:Name="FullScreenLandscape"/>
                                    <VisualState x:Name="Filled"/>
                                    <VisualState x:Name="FullScreenPortrait">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="TextLabel" Storyboard.TargetProperty="(UIElement.Visibility)">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Collapsed}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid" Storyboard.TargetProperty="Width">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="60"/>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Snapped">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="TextLabel" Storyboard.TargetProperty="(UIElement.Visibility)">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Collapsed}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid" Storyboard.TargetProperty="Width">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="60"/>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal"/>
                                    <VisualState x:Name="MouseOver">
                                        <Storyboard>
                                            <ColorAnimationUsingKeyFrames Storyboard.TargetName="BackgroundGlyph" Storyboard.TargetProperty="(TextBlock.Foreground).(SolidColorBrush.Color)">
                                                <DiscreteColorKeyFrame KeyTime="0" Value="{StaticResource AppBarItemPointerOverBackgroundThemeBrush4}" />
                                            </ColorAnimationUsingKeyFrames>
                                            <!--<ObjectAnimationUsingKeyFrames Storyboard.TargetName="Content" Storyboard.TargetProperty="Foreground">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource AppBarItemPointerOverForegroundThemeBrush}" />
                                            </ObjectAnimationUsingKeyFrames>-->

                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Pressed">
                                        <Storyboard>
                                            <ColorAnimationUsingKeyFrames Storyboard.TargetName="OutlineGlyph" Storyboard.TargetProperty="(TextBlock.Foreground).(SolidColorBrush.Color)">
                                                <DiscreteColorKeyFrame KeyTime="0" Value="{StaticResource AppBarItemForegroundThemeColor}" />
                                            </ColorAnimationUsingKeyFrames>
                                            <ColorAnimationUsingKeyFrames Storyboard.TargetName="BackgroundGlyph" Storyboard.TargetProperty="(TextBlock.Foreground).(SolidColorBrush.Color)">
                                                <DiscreteColorKeyFrame KeyTime="0" Value="{StaticResource AppBarItemForegroundThemeColor}" />
                                            </ColorAnimationUsingKeyFrames>
                                            <!--<ObjectAnimationUsingKeyFrames Storyboard.TargetName="Content" Storyboard.TargetProperty="Foreground">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource AppBarItemPressedForegroundThemeBrush}" />
                                            </ObjectAnimationUsingKeyFrames>-->
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Disabled">
                                        <Storyboard>
                                            <ColorAnimationUsingKeyFrames Storyboard.TargetName="OutlineGlyph" Storyboard.TargetProperty="(TextBlock.Foreground).(SolidColorBrush.Color)">
                                                <DiscreteColorKeyFrame KeyTime="0" Value="{StaticResource AppBarItemDisabledForegroundThemeBrush}" />
                                            </ColorAnimationUsingKeyFrames>
                                            <ColorAnimationUsingKeyFrames Storyboard.TargetName="Content" Storyboard.TargetProperty="(TextBlock.Foreground).(SolidColorBrush.Color)">
                                                <DiscreteColorKeyFrame KeyTime="0" Value="{StaticResource AppBarItemDisabledForegroundThemeBrush}" />
                                            </ColorAnimationUsingKeyFrames>
                                            <!--<ObjectAnimationUsingKeyFrames Storyboard.TargetName="TextLabel" Storyboard.TargetProperty="Foreground">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource AppBarItemDisabledForegroundThemeBrush}" />
                                            </ObjectAnimationUsingKeyFrames>-->
                                        </Storyboard>
                                    </VisualState>

                                </VisualStateGroup>
                                <VisualStateGroup x:Name="FocusStates">

                                    <VisualState x:Name="Unfocused" />
                                    <VisualState x:Name="PointerFocused" />
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="CheckStates">
                                    <VisualState x:Name="Checked">
                                        <Storyboard>

                                            <DoubleAnimation Duration="0" To="0" Storyboard.TargetName="OutlineGlyph" Storyboard.TargetProperty="Opacity"/>
                                            <ColorAnimation Storyboard.TargetName="BackgroundGlyph" To="{StaticResource AppBarItemForegroundThemeColor}" 
                                                            Storyboard.TargetProperty="(TextBlock.Foreground).(SolidColorBrush.Color)"></ColorAnimation>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="BackgroundCheckedGlyph" Storyboard.TargetProperty="(UIElement.Visibility)">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Collapsed}"/>
                                            </ObjectAnimationUsingKeyFrames>

                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Unchecked"/>
                                    <VisualState x:Name="Indeterminate"/>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>

        </Style>

        <Style x:Key="MyAppBarButtonStyle" TargetType="ButtonBase">
            <!--<Setter Property="Foreground" Value="Black" />-->
            <Setter Property="VerticalAlignment" Value="Stretch" />
            <Setter Property="FontFamily" Value="Segoe UI Symbol" />
            <Setter Property="FontWeight" Value="Normal" />
            <Setter Property="FontSize" Value="20" />
            <Setter Property="AutomationProperties.ItemType" Value="App Bar Button" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ButtonBase">
                        <Grid x:Name="RootGrid"
                              Width="40"
                              Height="40"
                              Margin="2"
                              Background="Transparent">
                            <StackPanel Margin="0,-12,0,11" VerticalAlignment="Top">
                                <Grid Width="40"
                                      Height="40"
                                      Margin="0,0,0,5"
                                      HorizontalAlignment="Center">
                                    <TextBlock x:Name="OutlineGlyph1"
                                               Margin="2,-22,0,-.5"
                                               FontFamily="Segoe UI Symbol"
                                               FontSize="53.336"
                                               Foreground="{StaticResource AppBarItemBackgroundThemeBrush}"
                                               Text="" />
                                    <TextBlock x:Name="BackgroundGlyph"
                                               Margin="-4,-19,0,0"
                                               FontFamily="Segoe UI Symbol"
                                               FontSize="53.333"
                                              Foreground="White"
                                               Text="" />
                                    <TextBlock x:Name="OutlineGlyph"
                                               Margin="-4,-19,0,0"
                                               FontFamily="Segoe UI Symbol"
                                               FontSize="53.333"
                                               Foreground="#FF000000"
                                               Text="" />
                                    <ContentPresenter x:Name="Content"
                                                      Margin="-1,-1,0,0"
                                                      HorizontalAlignment="Center"
                                                      VerticalAlignment="Center" />
                                </Grid>

                            </StackPanel>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="ApplicationViewStates">
                                    <VisualState x:Name="FullScreenLandscape"/>
                                    <VisualState x:Name="Filled"/>
                                    <VisualState x:Name="FullScreenPortrait">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="TextLabel" Storyboard.TargetProperty="(UIElement.Visibility)">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Collapsed}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid" Storyboard.TargetProperty="Width">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="60"/>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Snapped">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="TextLabel" Storyboard.TargetProperty="(UIElement.Visibility)">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Collapsed}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid" Storyboard.TargetProperty="Width">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="60"/>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal"/>
                                    <VisualState x:Name="PointerOver">
                                        <Storyboard>
                                            <ColorAnimation Storyboard.TargetName="BackgroundGlyph" To="{StaticResource AppBarItemPointerOverBackgroundThemeBrush}" Storyboard.TargetProperty="(TextBlock.Foreground).(SolidColorBrush.Color)"></ColorAnimation>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Pressed">
                                        <Storyboard>
                                            <ColorAnimation Storyboard.TargetName="OutlineGlyph" To="{StaticResource AppBarItemPressedForegroundThemeBrush}" 
                                                            Storyboard.TargetProperty="(TextBlock.Foreground).(SolidColorBrush.Color)"></ColorAnimation>
                                            <ColorAnimation Storyboard.TargetName="BackgroundGlyph" To="{StaticResource AppBarItemPressedForegroundThemeBrush}" 
                                                            Storyboard.TargetProperty="(TextBlock.Foreground).(SolidColorBrush.Color)"></ColorAnimation>
                                        </Storyboard>
                                    </VisualState>

                                    <VisualState x:Name="Disabled">
                                        <Storyboard>

                                            <ColorAnimation Storyboard.TargetName="OutlineGlyph" To="{StaticResource AppBarItemDisabledForegroundThemeBrush}" 
                                                            Storyboard.TargetProperty="(TextBlock.Foreground).(SolidColorBrush.Color)"></ColorAnimation>
                                            <ColorAnimation Storyboard.TargetName="BackgroundGlyph" To="{StaticResource AppBarItemDisabledForegroundThemeBrush}" 
                                                            Storyboard.TargetProperty="(TextBlock.Foreground).(SolidColorBrush.Color)"></ColorAnimation>

                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="FocusStates">

                                    <VisualState x:Name="Unfocused" />
                                    <VisualState x:Name="PointerFocused" />
                                </VisualStateGroup>
                                <VisualStateGroup x:Name="CheckStates">
                                    <VisualState x:Name="Checked">
                                        <Storyboard>

                                            <DoubleAnimation Duration="0" To="0" Storyboard.TargetName="OutlineGlyph" Storyboard.TargetProperty="Opacity"/>
                                            <ColorAnimation Storyboard.TargetName="BackgroundGlyph" To="{StaticResource AppBarItemForegroundThemeColor}" 
                                                            Storyboard.TargetProperty="(TextBlock.Foreground).(SolidColorBrush.Color)"></ColorAnimation>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="BackgroundCheckedGlyph" Storyboard.TargetProperty="(UIElement.Visibility)">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Collapsed}"/>
                                            </ObjectAnimationUsingKeyFrames>

                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Unchecked"/>
                                    <VisualState x:Name="Indeterminate"/>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="PathBasedAppBarButtonStyle"
               BasedOn="{StaticResource MyAppBarButtonStyle}"
               TargetType="ButtonBase">
            <Setter Property="ContentTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <Path Width="18"
                              Height="18"
                              Margin="0 0 2 0"
                              HorizontalAlignment="Center"
                              VerticalAlignment="Center"
                              Data="{Binding Path=Content,
                                             RelativeSource={RelativeSource Mode=TemplatedParent}}"
                              Fill="{Binding Path=Foreground,
                                             RelativeSource={RelativeSource Mode=TemplatedParent}}"
                              RenderTransformOrigin="0.5,0.5"
                              Stretch="Uniform" />
                    </DataTemplate>
                </Setter.Value>
            </Setter>
        </Style>


        <Style x:Key="StartAppBarButtonStyle"
               BasedOn="{StaticResource AppBarButtonStyleStart1}"
               TargetType="ButtonBase">
            <Setter Property="AutomationProperties.AutomationId" Value="EditAppBarButton" />
            <Setter Property="AutomationProperties.Name" Value="Start" />
        </Style>

        <Style x:Key="EndAppBarButtonStyle"
               BasedOn="{StaticResource AppBarButtonStyleStart1}"
               TargetType="ButtonBase">
            <Setter Property="AutomationProperties.AutomationId" Value="EditAppBarButton" />
            <Setter Property="AutomationProperties.Name" Value="End" />
        </Style>

        <Style x:Key="TaskAppBarButtonStyle"
               BasedOn="{StaticResource AppBarButtonStyleStart1}"
               TargetType="ButtonBase">
            <Setter Property="AutomationProperties.AutomationId" Value="EditAppBarButton" />
            <Setter Property="AutomationProperties.Name" Value="Task" />
        </Style>

        <Style x:Key="EditAppBarButtonStyle"
               BasedOn="{StaticResource MyAppBarButtonStyle}"
               TargetType="ButtonBase">
            <Setter Property="AutomationProperties.AutomationId" Value="EditAppBarButton" />
            <Setter Property="AutomationProperties.Name" Value="Edit" />
            <Setter Property="Content" Value="" />
        </Style>

        <Style x:Key="DecisonAppBarButtonStyle"
               BasedOn="{StaticResource AppBarButtonStyleStart1}"
               TargetType="ButtonBase">
            <Setter Property="AutomationProperties.AutomationId" Value="EditAppBarButton" />
            <Setter Property="AutomationProperties.Name" Value="Decision" />
            <Setter Property="Content" Value="" />
        </Style>

        <Style x:Key="SaveAppBarButtonStyle"
               BasedOn="{StaticResource AppBarButtonStyle}"
               TargetType="ButtonBase">
            <Setter Property="AutomationProperties.AutomationId" Value="SaveAppBarButton" />
            <Setter Property="AutomationProperties.Name" Value="Save" />
            <Setter Property="Content" Value="" />
        </Style>

        <Style x:Key="Data-EditAppBarButtonStyle"
               BasedOn="{StaticResource PathBasedAppBarButtonStyle}"
               TargetType="ButtonBase">
            <Setter Property="AutomationProperties.Name" Value=""/>
            <Setter Property="AutomationProperties.AutomationId" Value="Data-EditAppBarButton" />
            <Setter Property="Content" Value="M0,44.439791L18.98951,54.569246 0.47998798,62.66881z M17.428029,12.359973L36.955557,23.568769 21.957478,49.686174 20.847757,46.346189 15.11851,45.756407 14.138656,42.166935 8.5292659,41.966761 6.9493899,38.037481 2.4399572,38.477377z M26.812517,0.0009765625C27.350616,-0.012230873,27.875986,0.10826397,28.348372,0.3782568L42.175028,8.3180408C43.85462,9.2780154,44.234529,11.777948,43.02482,13.89789L41.375219,16.767812 21.460039,5.3381228 23.10964,2.4582005C23.979116,0.941679,25.437378,0.034730911,26.812517,0.0009765625z" />
        </Style>

        <SolidColorBrush x:Key="BlueSelectionBrush" Color="#FF565656" />

        <Style x:Key="NullThumb" TargetType="localControls:DiagramThumb">
            <Setter Property="Template" Value="{x:Null}" />
        </Style>
        <!--  visiostyle  -->
        <Style x:Key="LeftResizer" TargetType="localControls:DiagramThumb">
            <Style.Setters>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate>
                            <Rectangle Width="3"
                                       Margin="-3,-3,0,-3"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Stretch"
                                       Fill="{StaticResource BlueSelectionBrush}" />
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style.Setters>
        </Style>

        <Style x:Key="TopResizer" TargetType="localControls:DiagramThumb">
            <Style.Setters>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate>
                            <Rectangle Height="3"
                                       Margin="-3,-3,-3,0"
                                       HorizontalAlignment="Stretch"
                                       VerticalAlignment="Top"
                                       Fill="{StaticResource BlueSelectionBrush}" />
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style.Setters>
        </Style>

        <Style x:Key="RightResizer" TargetType="localControls:DiagramThumb">
            <Style.Setters>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate>
                            <Rectangle Width="3"
                                       Margin="0,-3,-3,-3"
                                       HorizontalAlignment="Right"
                                       VerticalAlignment="Stretch"
                                       Fill="{StaticResource BlueSelectionBrush}" />
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style.Setters>
        </Style>

        <Style x:Key="BottomResizer" TargetType="localControls:DiagramThumb">
            <Style.Setters>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate>
                            <Rectangle Height="3"
                                       Margin="-3,0,-3,-3"
                                       HorizontalAlignment="Stretch"
                                       VerticalAlignment="Bottom"
                                       Fill="{StaticResource BlueSelectionBrush}" />
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style.Setters>
        </Style>

        <Style x:Key="SourceThumb" TargetType="localControls:DiagramThumb">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Ellipse Width="10"
                                 Height="10"
                                 Margin="-10,0,-5,0"
                                 Fill="{StaticResource BlueSelectionBrush}" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="TargetThumb" TargetType="localControls:DiagramThumb">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Ellipse Width="10"
                                 Height="10"
                                 Margin="-10,0,-5,0"
                                 Fill="{StaticResource BlueSelectionBrush}" />
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <SolidColorBrush x:Key="PathStrokeThemeBrush" Color="#FF000000" />
        
        <Style x:Key="RotatorThumbStyle" TargetType="localControls:DiagramThumb">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="localControls:DiagramThumb">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <Ellipse Fill="Blue" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <SolidColorBrush x:Key="SelectorQuickCommandForegroundThumbBrush" Color="White"/>

        <Style TargetType="SyncDiagram:QuickCommand">
            <Setter Property="IsTabStop" Value="false"/>
            <Setter Property="Foreground" Value="{StaticResource SelectorQuickCommandForegroundThumbBrush}"/>
            <Setter Property="FontFamily" Value="Segoe UI Symbol"/>
            <Setter Property="FontWeight" Value="Normal"/>
            <Setter Property="FontSize" Value="20"/>
            <Setter Property="ShapeStyle"
                    Value="{Binding ShapeStyle}"></Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="SyncDiagram:QuickCommand">
                        <Border x:Name="QuickCommand" 
        BorderBrush="{TemplateBinding BorderBrush}"
        BorderThickness="{TemplateBinding BorderThickness}">
                            <Grid  x:Name="RootGrid" Background="White">
                                <Path Width="40" Height="40" Data="{Binding DataContext.Shape,RelativeSource={RelativeSource TemplatedParent}}" 
                                 Style="{Binding DataContext.ShapeStyle,RelativeSource={RelativeSource TemplatedParent}}" 
                                   Stretch="Fill" x:Name="BackgroundGlyph"/>
                                <ContentPresenter 
                              Content="{Binding DataContext.Content,RelativeSource={RelativeSource TemplatedParent}}" 
                              ContentTemplate="{Binding DataContext.ContentTemplate,RelativeSource={RelativeSource TemplatedParent}}"  
                              x:Name="Content" RenderTransformOrigin="0.5,0.5" Tag="{TemplateBinding Foreground}" >
                                </ContentPresenter>
                            </Grid>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal"/>
                                    <VisualState x:Name="PointerOver">
                                        <Storyboard>
                                            <ColorAnimation To="Transparent"
                            Storyboard.TargetName="BackgroundGlyph"
                            Storyboard.TargetProperty="(Path.Fill).(SolidColorBrush.Color)"/>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Pressed">
                                        <Storyboard>
                                            <ColorAnimation To="Black"
                            Storyboard.TargetName="BackgroundGlyph"
                            Storyboard.TargetProperty="(Path.Fill).(SolidColorBrush.Color)"/>
                                            <ColorAnimation To="Black"
                            Storyboard.TargetName="Content"
                            Storyboard.TargetProperty="(ContentPresenter.Tag).(SolidColorBrush.Color)"/>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <DataTemplate x:Key="drawQucikCommandTemplate">
            <Viewbox>
                <Grid Unloaded="Grid_Unloaded_1"
                                            MouseEnter="Grid_MouseEnter"
                                              MouseLeave="Grid_MouseLeave"
                                              MouseLeftButtonDown="Grid_MouseLeftButtonDown"
                                              MouseLeftButtonUp="Grid_MouseLeftButtonUp">
                    <Grid Width="40"
                                                  Height="40"
                                                  Visibility="Visible">
                        <Ellipse x:Name="ellipse"
                                                         Fill="{Binding fillbrush}"
                                                         Stroke="#FF000000"
                                                         StrokeThickness="1.5"
                                                         Visibility="Visible" />
                    </Grid>
                    <Path Width="18"
                                                  Height="18"
                                                  Margin="0 0 0 0"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"
                                                  Data="M5.9442482,39.851C9.2254944,39.851 11.887001,42.515145 11.887001,45.7964 11.887001,49.077756 9.2254944,51.738001 5.9442482,51.738001 2.6602631,51.738001 0,49.077756 0,45.7964 0,42.515145 2.6602631,39.851 5.9442482,39.851z M54.571699,39.574002C59.779954,39.574002 64,43.792891 64,49.000002 64,54.207113 59.779954,58.426003 54.571699,58.426003 49.365844,58.426003 45.146999,54.207113 45.146999,49.000002 45.146999,43.792891 49.365844,39.574002 54.571699,39.574002z M17.059084,38.473003L17.907999,39.9143 13.223015,42.668002 12.374001,41.226706z M36.32003,38.019001L44.646997,42.765482 43.087067,45.504003 34.763999,40.757521z M26.5662,26.613002C31.077789,26.613002 34.738,30.273369 34.738,34.789052 34.738,39.300835 31.077789,42.961002 26.5662,42.961002 22.05341,42.961002 18.391998,39.300835 18.391998,34.789052 18.391998,30.273369 22.05341,26.613002 26.5662,26.613002z M25.125999,18.207001L28.005999,18.207001 28.005999,25.313002 25.125999,25.313002z M26.5662,0C31.077789,0 34.738,3.6602287 34.738,8.1759319 34.738,12.687735 31.077789,16.348001 26.5662,16.348001 22.05341,16.348001 18.391998,12.687735 18.391998,8.1759319 18.391998,3.6602287 22.05341,0 26.5662,0z"
                                                  Fill="#FF000000"
                                                  RenderTransformOrigin="0.5,0.5"
                                                  Stretch="Uniform" />
                </Grid>
            </Viewbox>
        </DataTemplate>

            <DataTemplate x:Key="DeleteQucikCommandTemplate">
                <Viewbox>
                    <Grid Unloaded="Grid_Unloaded_1"
                                            MouseEnter="Grid_MouseEnter"
                                              MouseLeave="Grid_MouseLeave"
                                              MouseLeftButtonDown="Grid_MouseLeftButtonDown"
                                              MouseLeftButtonUp="Grid_MouseLeftButtonUp">
                        <Grid Width="40"
                                                  Height="40"
                                                  Visibility="Visible">
                            <Ellipse x:Name="ellipse"
                                                         Fill="{Binding fillbrush}"
                                                         Stroke="#FF000000"
                                                         StrokeThickness="1.5"
                                                         Visibility="Visible" />
                        </Grid>
                        <Path Width="18"
                                                  Height="18"
                                                  Margin="0 0 0 0"
                                                  HorizontalAlignment="Center"
                                                  VerticalAlignment="Center"
                                                  Data="M11,6.1030006 L12,6.1030006 L12,15.000001 L11,15.000001 z M8,6.1030006 L9,6.1030006 L9,15.000001 L8,15.000001 z M5,6.1030006 L6,6.1030006 L6,15.000001 L5,15.000001 z M3,3.9999998 L3,18 L14,18 L14,3.9999998 z M6,1 L6,3 L11,3 L11,1 z M5,0 L12,0 L12,3 L17,3 L17,3.9999998 L15,3.9999998 L15,19 L1.9999999,19 L1.9999999,3.9999998 L0,3.9999998 L0,3 L5,3 z"
                                                  Fill="#FF000000"
                                                  RenderTransformOrigin="0.5,0.5"
                                                  Stretch="Uniform" />
                    </Grid>
                </Viewbox>
            </DataTemplate>

            <DataTemplate x:Key="editQuickCommand">
            <Viewbox>
                <Button Click="Button_Click_3" Style="{StaticResource EditAppBarButtonStyle}" Unloaded="Button_Unload_3"  />
            </Viewbox>
        </DataTemplate>

        <Style x:Key="selector" TargetType="SyncDiagram:Selector">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate>
                        <panels:SelectorPanel x:Name="PART_SelectorPanel">
                            <panels:SelectorPanel.Resources>
                                <Style x:Key="pathStyle" TargetType="Shape">
                                    <Setter Property="StrokeThickness" Value="1" />
                                    <Setter Property="Stroke" Value="White" />
                                </Style>
                            </panels:SelectorPanel.Resources>
                            <Rectangle Stretch="Fill"
                                       StrokeDashArray="2,2"
                                       Style="{StaticResource pathStyle}" />
                            <Line X1="0"
                                  X2="0"
                                  Y1="0"
                                  Y2="0" />
                            <localControls:DiagramThumb x:Name="PART_TopLeft"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Top"
                                                        Style="{StaticResource NullThumb}" />
                            <localControls:DiagramThumb x:Name="PART_Top"
                                                        HorizontalAlignment="Stretch"
                                                        VerticalAlignment="Top"
                                                        Style="{StaticResource NullThumb}" />
                            <localControls:DiagramThumb x:Name="PART_TopRight"
                                                        HorizontalAlignment="Right"
                                                        VerticalAlignment="Top"
                                                        Style="{StaticResource NullThumb}" />
                            <localControls:DiagramThumb x:Name="PART_Left"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Stretch"
                                                        Style="{StaticResource NullThumb}" />
                            <localControls:DiagramThumb x:Name="PART_Right"
                                                        HorizontalAlignment="Right"
                                                        VerticalAlignment="Stretch"
                                                        Style="{StaticResource NullThumb}" />
                            <localControls:DiagramThumb x:Name="PART_BottomLeft"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Bottom"
                                                        Style="{StaticResource NullThumb}" />
                            <localControls:DiagramThumb x:Name="PART_Bottom"
                                                        HorizontalAlignment="Stretch"
                                                        VerticalAlignment="Bottom"
                                                        Style="{StaticResource NullThumb}" />
                            <localControls:DiagramThumb x:Name="PART_BottomRight"
                                                        HorizontalAlignment="Right"
                                                        VerticalAlignment="Bottom"
                                                        Style="{StaticResource NullThumb}" />
                            <localControls:DiagramThumb x:Name="PART_Pivot" Style="{StaticResource NullThumb}" />
                            <localControls:DiagramThumb x:Name="PART_Rotator" Style="{StaticResource NullThumb}" />
                            <localControls:DiagramThumb x:Name="PART_SourceThumb"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Top"
                                                        Style="{StaticResource SourceThumb}"
                                                        Visibility="Collapsed" />
                            <localControls:DiagramThumb x:Name="PART_TargetThumb"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Top"
                                                        Style="{StaticResource TargetThumb}"
                                                        Visibility="Collapsed" />

                            <!--<Grid Margin="-60">
                                <local:SelectorItem Grid.Row="0"
                                                    Grid.Column="1"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Top"
                                                    Visibility="{Binding SelectedObject,
                                                                         Converter={StaticResource VisibilityConverter},
                                                                         Mode=TwoWay}">
                                    <Viewbox>
                                        <Button Click="Button_Click_3" Style="{StaticResource EditAppBarButtonStyle}" Unloaded="Button_Unload_3"  />
                                    </Viewbox>
                                </local:SelectorItem>
                            </Grid>-->
                        </panels:SelectorPanel>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="SyncDiagram:Connector" BasedOn="{StaticResource ConnectorBindingStyle}"></Style>
        <Style TargetType="SyncDiagram:Node" BasedOn="{StaticResource NodeBindingStyle}"></Style>

            <DataTemplate x:Key="StartNode">
                    <Path Width="38" Height="38" Data="F1M407.4766,229.2988C407.4766,233.9028,403.7446,237.6348,399.1406,237.6348C394.5376,237.6348,390.8046,233.9028,390.8046,229.2988C390.8046,224.6948,394.5376,220.9628,399.1406,220.9628C403.7446,220.9628,407.4766,224.6948,407.4766,229.2988"
                                  Fill="#FF70C923"
                                  Stretch="Fill" />
            </DataTemplate>
            <DataTemplate x:Key="DecisionNode">
                <Path Width="38" Height="38" Data="F1M19.3207,25L27.9997,33.679L36.6797,25L27.9997,16.321z M27.9997,35L17.9997,25L27.9997,15L37.9997,25z" Fill="#FF3FBDEC"  Stretch="Fill"  HorizontalAlignment="Left"  VerticalAlignment="Top"/>
            </DataTemplate>
            
            <DataTemplate x:Key="TaskNode">
                <Path Width="38" Height="38" Data="F1M20,60L35,60L35,45L20,45z M36,61L19,61L19,44L36,44z" Fill="#FF3FBDEC" Stretch="Fill" HorizontalAlignment="Left" VerticalAlignment="Top"/>
            </DataTemplate>
            
            <DataTemplate x:Key="EndNode">
                <Path Width="38" Height="38"
                                  Data="F1M409.0596,357.5312C409.0596,362.1352,405.3276,365.8672,400.7236,365.8672C396.1206,365.8672,392.3876,362.1352,392.3876,357.5312C392.3876,352.9272,396.1206,349.1952,400.7236,349.1952C405.3276,349.1952,409.0596,352.9272,409.0596,357.5312"
                                  Fill="#FFC63232"
                                  Stretch="Fill" />
            </DataTemplate>

            <!--Style for Symbol-->
            <Style TargetType="SyncDiagram:Symbol">
                <Setter Property="Width"
                        Value="35" />
                <Setter Property="Height"
                        Value="35"/>
                <Setter Property="BorderThickness"
                        Value="1" />
                <Setter Property="Background"
                        Value="Transparent" />
                <Setter Property="BorderBrush"
                        Value="Transparent" />
            </Style>

            <Style TargetType="SyncDiagram:SymbolGroup">
                <Setter Property="Background" Value="Transparent" />
                <Setter Property="VerticalAlignment" Value="Top"/>
            </Style>

        </ResourceDictionary>
    </UserControl.Resources>

    <Grid Background="White">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>

        <!--SfDiagram-->
        <local:AutomationDiagram x:Name="sfdiagram"  Background="Transparent"
                                 Grid.Column="0"
                                 Tool="ZoomPan,SingleSelect">
            <!--Initialize Nodes-->
            <local:AutomationDiagram.Nodes>
                <SyncDiagram:DiagramCollection />
            </local:AutomationDiagram.Nodes>
            <!--Initialize Connectors-->
            <local:AutomationDiagram.Connectors>
                <SyncDiagram:DiagramCollection />
            </local:AutomationDiagram.Connectors>
        </local:AutomationDiagram>

        <shared:ToolBarAdv ToolBarName="Standard" Height="45" Margin="0,1,0,0" GripperVisibility="Collapsed" OverflowButtonVisibility="Collapsed" HorizontalAlignment="Stretch"
              VerticalAlignment="Top" Background="#e8e8e7" BorderBrush="#d6d6d4" >
            <Button shared:ToolBarAdv.Label="Back" Margin="16,0,10,2"  VerticalAlignment="Center" Background="Transparent" BorderBrush="Transparent" Command="{Binding Back}" ToolTip="Back">

                <Grid  MouseLeftButtonUp="Back_Clicked">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <Viewbox HorizontalAlignment="Center" VerticalAlignment="Center" Margin="5" Grid.Column="0" Width="18" Height="18" Stretch="Uniform">
                        <Grid>
                            <Path Data="M1.5030002,7.3949997 L1.414,7.4839999 1.5030002,7.5730001 z M7.4840001,0 L8.1910003,0.70700026 1.8969999,7.001 18,7.001 18,8.0009999 1.9310001,8.0009999 8.2070001,14.277 7.5000004,14.984 0,7.4839999 z" Fill="#FF565858" HorizontalAlignment="Center" Width="68"
                          Height="68"  Stretch="Uniform" VerticalAlignment="Center" />
                        </Grid>
                    </Viewbox>
                    <TextBlock HorizontalAlignment="Center" Margin="5" VerticalAlignment="Center"  Text="Back" Grid.Column="1"></TextBlock>

                </Grid>
            </Button>
            <Button shared:ToolBarAdv.Label="Execute" ToolTip="Execute" Margin="0,0,10,2" VerticalAlignment="Center" BorderBrush="Transparent" IsEnabled="{Binding IsItemEnabled}" Background="Transparent" Command="{Binding Play}" Width="98">
                <Grid >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <Viewbox HorizontalAlignment="Center" VerticalAlignment="Center" Margin="5" Grid.Column="0" Width="18" Height="18" Stretch="Uniform">
                        <Grid>
                            <Path Data="F1M179,10.7389L179,25.2609L192.646,18.6459z M178,26.9999L178,8.9999L194.646,18.6459z" Fill="#FF565858"  Stretch="Fill"  HorizontalAlignment="Center"  UseLayoutRounding="False" VerticalAlignment="Center"/>
                        </Grid>
                    </Viewbox>

                    <TextBlock HorizontalAlignment="Center" Margin="5" VerticalAlignment="Center"  Text="Execute" Grid.Column="1" ></TextBlock>

                </Grid>
            </Button>
            <Button shared:ToolBarAdv.Label="Delete" ToolTip="Delete"  Margin="0,0,10,2" BorderBrush="Transparent" IsEnabled="{Binding IsItemEnabled}" VerticalAlignment="Center" Background="Transparent" Command="{Binding Delete}" CommandParameter="{Binding SelectedObject}">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <Viewbox HorizontalAlignment="Center" VerticalAlignment="Center" Margin="5" Grid.Column="0" Width="18" Height="18" Stretch="Uniform">
                        <Grid>
                            <Path Data="M11,6.1030006 L12,6.1030006 L12,15.000001 L11,15.000001 z M8,6.1030006 L9,6.1030006 L9,15.000001 L8,15.000001 z M5,6.1030006 L6,6.1030006 L6,15.000001 L5,15.000001 z M3,3.9999998 L3,18 L14,18 L14,3.9999998 z M6,1 L6,3 L11,3 L11,1 z M5,0 L12,0 L12,3 L17,3 L17,3.9999998 L15,3.9999998 L15,19 L1.9999999,19 L1.9999999,3.9999998 L0,3.9999998 L0,3 L5,3 z"
                                  Fill="#FF565858" HorizontalAlignment="Center" Width="68"
                          Height="68"  Stretch="Uniform" VerticalAlignment="Center"/>
                        </Grid>
                    </Viewbox>
                    <TextBlock HorizontalAlignment="Center" Margin="5" VerticalAlignment="Center" Grid.Column="1" Text="Delete"></TextBlock>
                 </Grid>
            </Button>
            <Button shared:ToolBarAdv.Label="Clear" ToolTip="Clear"   Margin="0,0,10,2" BorderBrush="Transparent" IsEnabled="{Binding IsItemEnabled}" Background="Transparent" VerticalAlignment="Center" Command="{Binding Clear}" CommandParameter="{Binding SelectedObject}">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <Viewbox HorizontalAlignment="Center" VerticalAlignment="Center" Margin="5" Grid.Column="0" Width="18" Height="18" Stretch="Uniform">
                        <Grid >
                            <Path Data="M4.1640049,9.047998 L1.4140025,12.148998 5.2030073,15.570999 8.1640083,15.570999 9.4919969,13.945999 z M11.17901,1.414 L4.9115292,8.3338469 6.9725515,10.26342 10.273009,13.210999 16.57801,6.5709999 z M11.17901,0 L17.992009,6.5709999 10.685777,14.194318 9.464862,15.571 17.992009,15.571 17.992009,16.571 4.9920088,16.571 4.7890054,16.570998 0,12.148998 3.4639753,8.3930354 3.4530102,8.3829998 z"
                                  Fill="#FF565858" Stretch="Fill" UseLayoutRounding="False" VerticalAlignment="Center" HorizontalAlignment="Center" />
                        </Grid>
                    </Viewbox>
                    <TextBlock HorizontalAlignment="Center" Margin="5" VerticalAlignment="Center" Grid.Column="1" Text="Clear"></TextBlock>

                </Grid>
            </Button>
            <Separator Width="1.5" Background="LightGray" Height="32" Margin="0,4,0,4"/>
            <SyncDiagram:Stencil x:Name="stencil" Background="#e8e8e7"
                            ShowSearchTextBox="False" Height="48" SymbolsDisplayMode="IconsOnly"
                            ShowDisplayModeToggleButton="False" Constraints="None" 
                            Width="170"
                            ExpandMode="All">
                <SyncDiagram:Stencil.SymbolSource>
                    <SyncDiagram:SymbolCollection>
                        <local:ProcessAutomationNode Name="Start" ContentTemplate="{StaticResource StartNode}">
                            <local:ProcessAutomationNode.Content>
                                <local:NodeContent DispalyText="Start"/>
                            </local:ProcessAutomationNode.Content>
                        </local:ProcessAutomationNode>
                        <local:ProcessAutomationNode Name="Decision" ContentTemplate="{StaticResource DecisionNode}" />
                        <local:ProcessAutomationNode Name="Task" ContentTemplate="{StaticResource TaskNode}" />
                        <local:ProcessAutomationNode Name="End" ContentTemplate="{StaticResource EndNode}" />
                    </SyncDiagram:SymbolCollection>
                </SyncDiagram:Stencil.SymbolSource>
            </SyncDiagram:Stencil>
            <Separator Width="1.5" Background="LightGray" Height="32" Margin="0,4,0,4"/>
            <StackPanel Orientation="Horizontal">
                <StackPanel.Resources>
                    <Style TargetType="{x:Type RadioButton}" BasedOn="{StaticResource {x:Type ToggleButton}}" />
                </StackPanel.Resources>

                <RadioButton x:Name="SelectTool" HorizontalAlignment="Center" VerticalAlignment="Center" GroupName="ToolGroup"  shared:ToolBarAdv.Label="Select" ToolTip="Select"  Margin="0,0,10,2" BorderBrush="Transparent" Click="SelectTool_Click" IsEnabled="True" Background="Transparent">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"></ColumnDefinition>
                            <ColumnDefinition Width="Auto"></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Viewbox HorizontalAlignment="Center" VerticalAlignment="Center" Margin="5" Grid.Column="0" Width="18" Height="18" Stretch="Uniform">
                            <Grid>
                                <Path Width="11" Height="16" Fill="#444444" Data="M11 11H6.39581L7.97725 14.44L4.63421 16L3.00273 12.47L0 15.47V0L11 11ZM6.63603 14L4.81438 10H8.55778L0.990901 2.43V13.02L3.32302 10.73L5.11465 14.65L6.63603 14Z" />
                            </Grid>
                        </Viewbox>
                        <TextBlock HorizontalAlignment="Center" Margin="5" VerticalAlignment="Center" Grid.Column="1" Text="Select"></TextBlock>
                    </Grid>
                </RadioButton>

                <RadioButton x:Name="PanTool" GroupName="ToolGroup" HorizontalAlignment="Center" IsChecked="True" VerticalAlignment="Center" shared:ToolBarAdv.Label="Pan" ToolTip="Pan" Click="SelectTool_Click"  Margin="0,0,10,2" BorderBrush="Transparent" IsEnabled="True" Background="Transparent">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"></ColumnDefinition>
                            <ColumnDefinition Width="Auto"></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Viewbox HorizontalAlignment="Center" VerticalAlignment="Center" Margin="5" Grid.Column="0" Width="18" Height="18" Stretch="Uniform">
                            <Grid>
                                <Path Width="12" Height="16" Fill="#444444" Data="M6.53512 0C7.13706 0 7.55506 0.343446 7.79381 0.788423C7.98834 0.682356 8.20213 0.623203 8.41014 0.616676L8.54324 0.61982C9.39252 0.61982 9.83838 1.21255 9.98336 2.08423C10.0039 2.20751 10.0175 2.32114 10.0265 2.44097C10.202 2.37244 10.3903 2.33712 10.5813 2.33926C11.3678 2.33926 11.7775 2.92308 11.9291 3.77596C11.9749 4.03338 11.9928 4.25842 11.9981 4.53766L12 4.75862L11.9957 11.5623C11.6221 14.3836 10.0538 15.9017 7.42632 15.9907L7.1769 15.9948C5.23512 16.0819 3.41181 15.0602 2.48333 13.3786L2.20014 12.9033C1.75878 12.1453 1.06499 10.8944 0.151087 9.20525C-0.164386 8.55338 0.0325512 7.77668 0.570886 7.3719L0.683054 7.29605C1.04904 7.02487 1.51839 6.93493 1.9586 7.05162C2.39881 7.16831 2.76211 7.47896 2.92842 7.86009C2.94831 7.89692 2.96831 7.93369 2.98844 7.97039L2.98844 2.44089C2.98594 1.65738 3.58665 1.00401 4.34215 0.943971C4.63023 0.906165 4.91981 0.953264 5.17723 1.07496C5.37243 0.374109 5.78862 0 6.53512 0ZM3.9875 9.2773V9.74716C3.9875 10.2401 3.35002 10.4355 3.07414 10.0271C2.79713 9.61712 2.5355 9.197 2.2824 8.75253L2.03188 8.29942C1.97061 8.16044 1.84951 8.05689 1.70277 8.018C1.55603 7.9791 1.39958 8.00908 1.24009 8.12471C1.02027 8.25863 0.938098 8.53775 1.03991 8.74931L2.34869 11.1388C2.63253 11.6487 2.87193 12.0712 3.06382 12.4009L3.34568 12.8743C4.06806 14.1818 5.43774 14.9903 6.9392 14.9998L7.15454 14.9956C9.36412 14.9956 10.5977 13.9307 10.9649 11.7361L11.0009 11.4967V4.75862C11.0009 4.42434 10.9895 4.19898 10.9455 3.95105C10.8685 3.5178 10.743 3.33896 10.5758 3.33893C10.4292 3.3373 10.2892 3.40015 10.1931 3.51083C10.1129 3.60305 10.0699 3.72074 10.0738 3.88473L10.0818 3.98884V4.34873H10.0418V7.35786H9.04277V2.98913L9.03735 2.6482C9.03135 2.50031 9.01951 2.37858 8.99785 2.24835C8.92332 1.8002 8.78741 1.61953 8.50542 1.61809C8.38837 1.6092 8.27277 1.64863 8.18552 1.72721C8.12007 1.78615 8.07485 1.86326 8.05496 1.94147L8.0437 2.01941V2.65923H8.03371V6.878H7.03465V1.74949C7.03465 1.44014 6.80884 0.999709 6.53512 0.999709C6.20751 0.999709 6.05513 1.29725 6.03736 2.19225L6.03559 2.37931H6.03488C6.03552 2.39926 6.03576 2.41926 6.03559 2.43929L6.04248 3.60872L6.06339 4.88515C6.07092 5.25209 6.08008 5.64036 6.09101 6.05109L6.11528 6.90285L5.11668 6.93313L5.07265 5.28122C5.06686 5.02564 5.06183 4.7797 5.05749 4.54305L5.04135 3.42854C5.03931 3.22934 5.03806 3.0514 5.03735 2.8765L5.03654 2.43505C5.03777 2.29041 4.97632 2.15233 4.86807 2.05648C4.75983 1.96062 4.61539 1.91638 4.44707 1.93783C4.21581 1.9564 4.0319 2.13055 3.99447 2.35357L3.9875 2.43929L3.9875 9.2773Z" />
                            </Grid>
                        </Viewbox>
                        <TextBlock HorizontalAlignment="Center" Margin="5" VerticalAlignment="Center" Grid.Column="1" Text="Pan"></TextBlock>
                    </Grid>
                </RadioButton>
            </StackPanel>

        </shared:ToolBarAdv>
        
        <Grid Grid.Column="1" Background="#f2f2f2">
            <Grid x:Name="NodeContentEditor"
                      Width="320"
                      Background="#f2f2f2"
                      Visibility="Collapsed">
                <Grid.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform></ScaleTransform>
                        <TranslateTransform></TranslateTransform>
                        <RotateTransform></RotateTransform>
                    </TransformGroup>
                </Grid.RenderTransform>
                <Grid.Resources>
                    <Storyboard x:Key="PropertyEditor_Storyboard_Visible">
                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="NodeContentEditor" Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)">
                            <EasingDoubleKeyFrame KeyTime="0" Value="350" />
                            <EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="0">
                                <EasingDoubleKeyFrame.EasingFunction>
                                    <CircleEase />
                                </EasingDoubleKeyFrame.EasingFunction>
                            </EasingDoubleKeyFrame>
                        </DoubleAnimationUsingKeyFrames>
                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="NodeContentEditor" Storyboard.TargetProperty="(UIElement.Opacity)">
                            <EasingDoubleKeyFrame KeyTime="0" Value="0" />
                            <EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="1">
                                <EasingDoubleKeyFrame.EasingFunction>
                                    <CircleEase />
                                </EasingDoubleKeyFrame.EasingFunction>
                            </EasingDoubleKeyFrame>
                        </DoubleAnimationUsingKeyFrames>
                    </Storyboard>
                    <Storyboard x:Key="PropertyEditor_Storyboard_Collapse">
                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="NodeContentEditor" Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)">
                            <EasingDoubleKeyFrame KeyTime="0" Value="0" />
                            <EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="350">
                                <EasingDoubleKeyFrame.EasingFunction>
                                    <CubicEase />
                                </EasingDoubleKeyFrame.EasingFunction>
                            </EasingDoubleKeyFrame>
                        </DoubleAnimationUsingKeyFrames>
                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="NodeContentEditor" Storyboard.TargetProperty="(UIElement.Opacity)">
                            <EasingDoubleKeyFrame KeyTime="0" Value="1" />
                            <EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="0">
                                <EasingDoubleKeyFrame.EasingFunction>
                                    <CircleEase />
                                </EasingDoubleKeyFrame.EasingFunction>
                            </EasingDoubleKeyFrame>
                        </DoubleAnimationUsingKeyFrames>
                    </Storyboard>
                </Grid.Resources>
                <local:PropertyEditor />
            </Grid>

            <Grid x:Name="NodeValueEditor"
                      Width="320"
                      Background="#f2f2f2"
                      Visibility="Collapsed">
                <Grid.RenderTransform>
                    <TransformGroup >
                        <ScaleTransform></ScaleTransform>
                        <TranslateTransform></TranslateTransform>
                        <RotateTransform></RotateTransform>
                    </TransformGroup>
                </Grid.RenderTransform>
                <Grid.Resources>
                    <Storyboard x:Key="PropertyEditor_Storyboard_Visible">
                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="NodeValueEditor" Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)">
                            <EasingDoubleKeyFrame KeyTime="0" Value="350" />
                            <EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="0">
                                <EasingDoubleKeyFrame.EasingFunction>
                                    <CircleEase />
                                </EasingDoubleKeyFrame.EasingFunction>
                            </EasingDoubleKeyFrame>
                        </DoubleAnimationUsingKeyFrames>
                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="NodeValueEditor" Storyboard.TargetProperty="(UIElement.Opacity)">
                            <EasingDoubleKeyFrame KeyTime="0" Value="0" />
                            <EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="1">
                                <EasingDoubleKeyFrame.EasingFunction>
                                    <CircleEase />
                                </EasingDoubleKeyFrame.EasingFunction>
                            </EasingDoubleKeyFrame>
                        </DoubleAnimationUsingKeyFrames>
                    </Storyboard>
                    <Storyboard x:Key="PropertyEditor_Storyboard_Collapse">
                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="NodeValueEditor" Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)">
                            <EasingDoubleKeyFrame KeyTime="0" Value="0" />
                            <EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="350">
                                <EasingDoubleKeyFrame.EasingFunction>
                                    <CubicEase />
                                </EasingDoubleKeyFrame.EasingFunction>
                            </EasingDoubleKeyFrame>
                        </DoubleAnimationUsingKeyFrames>
                        <DoubleAnimationUsingKeyFrames Storyboard.TargetName="NodeContentEditor" Storyboard.TargetProperty="(UIElement.Opacity)">
                            <EasingDoubleKeyFrame KeyTime="0" Value="1" />
                            <EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="0">
                                <EasingDoubleKeyFrame.EasingFunction>
                                    <CircleEase />
                                </EasingDoubleKeyFrame.EasingFunction>
                            </EasingDoubleKeyFrame>
                        </DoubleAnimationUsingKeyFrames>
                    </Storyboard>
                </Grid.Resources>
                <local:ValueEditor />
            </Grid>
        </Grid>

        <Grid Margin="25,80,25,40"
              HorizontalAlignment="Left"
              VerticalAlignment="Top"
              Background="Transparent"
              x:Name="backButton">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <TextBlock Grid.Column="1"
                       Margin="7"
                       VerticalAlignment="Center"
                       FontSize="25"
                       Foreground="Black"
                       Text="{Binding CurrentlyLoaded}" />
        </Grid>

    </Grid>
</UserControl>